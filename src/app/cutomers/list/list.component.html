<c-card>
  <c-card-header>Clientes Registrados</c-card-header>
  <c-card-body>

    <!-- Filtros -->
    <form class="row g-3 mb-3" (ngSubmit)="search()">
      <div class="col-md-4">
        <input
          type="text"
          class="form-control"
          placeholder="Buscar por Teléfono"
          [(ngModel)]="searchPhone"
          name="phone"
        />
      </div>
      <div class="col-md-4">
        <input
          type="text"
          class="form-control"
          placeholder="Buscar por Email"
          [(ngModel)]="searchEmail"
          name="email"
        />
      </div>
      <div class="col-md-4 d-flex gap-2">
        <button cButton color="primary" type="submit">Buscar</button>
        <button cButton color="secondary" type="button" (click)="clearFilters()">Limpiar</button>
      </div>
    </form>

    <!-- Tabla -->
    <table cTable [striped]="true" [hover]="true" class="table align-middle">
      <thead>
        <tr>
          <th>#</th>
          <th>Nombre</th>
          <th>Email</th>
          <th>Teléfono</th>
          <th>Rol</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let customer of customers; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ customer.firstName }} {{ customer.lastName }}</td>
          <td>{{ customer.email }}</td>
          <td>{{ customer.phone }}</td>
          <td>{{ customer.role }}</td>
          <td>
            <span class="badge" [ngClass]="customer.active ? 'bg-success' : 'bg-danger'">
              {{ customer.active ? 'Activo' : 'Inactivo' }}
            </span>
          </td>
          <td>
            <button
              cButton
              [color]="customer.active ? 'danger' : 'success'"
              size="sm"
              (click)="toggleStatus(customer)"
            >
              {{ customer.active ? 'Inhabilitar' : 'Habilitar' }}
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </c-card-body>
</c-card>
